{"ast":null,"code":"import React,{useState}from\"react\";import\"../Css/Auth.css\";import Navbar from\"../components/Navbar\";import Footer from\"../components/Footer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Signup(){const[fullName,setFullName]=useState(\"\");const[mobile,setMobile]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirm,setConfirm]=useState(\"\");const[showPopup,setShowPopup]=useState(false);const[loading,setLoading]=useState(false);const handleSignup=async e=>{e.preventDefault();if(loading)return;if(!fullName||!mobile||!password||!confirm){alert(\"All fields are required\");return;}if(mobile.length!==10){alert(\"Mobile number must be 10 digits\");return;}if(password!==confirm){alert(\"Passwords do not match\");return;}try{setLoading(true);const res=await fetch(\"/api/auth/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:new URLSearchParams({fullName:fullName.trim(),mobile:mobile.trim(),password})});const data=await res.json();if(data.status===\"success\"){setShowPopup(true);}else{alert(data.message||\"Signup failed\");setLoading(false);}}catch(error){console.error(\"Signup error:\",error);alert(\"Server error\");setLoading(false);}};const handleOk=()=>{setShowPopup(false);window.location.href=\"/login\";};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[showPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"popup-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Congrats!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your account is created!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"popup-btn\",onClick:handleOk,children:\"OK\"})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth-box\",onSubmit:handleSignup,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Your Account\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full Name\",value:fullName,onChange:e=>setFullName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",placeholder:\"Mobile Number\",value:mobile,maxLength:\"10\",onChange:e=>setMobile(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm Password\",value:confirm,onChange:e=>setConfirm(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"auth-btn\",type:\"submit\",disabled:loading,children:loading?\"Creating...\":\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"auth-switch\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Log In\"})]})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}export default Signup;","map":{"version":3,"names":["React","useState","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Signup","fullName","setFullName","mobile","setMobile","password","setPassword","confirm","setConfirm","showPopup","setShowPopup","loading","setLoading","handleSignup","e","preventDefault","alert","length","res","fetch","method","headers","body","URLSearchParams","trim","data","json","status","message","error","console","handleOk","window","location","href","children","className","onClick","onSubmit","type","placeholder","value","onChange","target","required","maxLength","disabled"],"sources":["D:/AgroLink/frontend/src/pages/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../Css/Auth.css\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Footer from \"../components/Footer\";\r\n\r\nfunction Signup() {\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirm, setConfirm] = useState(\"\");\r\n  const [showPopup, setShowPopup] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n    if (loading) return;\r\n\r\n    if (!fullName || !mobile || !password || !confirm) {\r\n      alert(\"All fields are required\");\r\n      return;\r\n    }\r\n\r\n    if (mobile.length !== 10) {\r\n      alert(\"Mobile number must be 10 digits\");\r\n      return;\r\n    }\r\n\r\n    if (password !== confirm) {\r\n      alert(\"Passwords do not match\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const res = await fetch(\"/api/auth/signup\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n        body: new URLSearchParams({\r\n          fullName: fullName.trim(),\r\n          mobile: mobile.trim(),\r\n          password,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.status === \"success\") {\r\n        setShowPopup(true);\r\n      } else {\r\n        alert(data.message || \"Signup failed\");\r\n        setLoading(false);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\"Signup error:\", error);\r\n      alert(\"Server error\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setShowPopup(false);\r\n    window.location.href = \"/login\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* NAVBAR */}\r\n      <Navbar />\r\n\r\n      <div className=\"auth-container\">\r\n        {/* SUCCESS POPUP */}\r\n        {showPopup && (\r\n          <div className=\"popup-overlay\">\r\n            <div className=\"popup-card\">\r\n              <div className=\"popup-icon\">âœ“</div>\r\n              <h2>Congrats!</h2>\r\n              <p>Your account is created!</p>\r\n\r\n              <button className=\"popup-btn\" onClick={handleOk}>\r\n                OK\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <form className=\"auth-box\" onSubmit={handleSignup}>\r\n          <h2>Create Your Account</h2>\r\n\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Full Name\"\r\n            value={fullName}\r\n            onChange={(e) => setFullName(e.target.value)}\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"tel\"\r\n            placeholder=\"Mobile Number\"\r\n            value={mobile}\r\n            maxLength=\"10\"\r\n            onChange={(e) => setMobile(e.target.value)}\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Confirm Password\"\r\n            value={confirm}\r\n            onChange={(e) => setConfirm(e.target.value)}\r\n            required\r\n          />\r\n\r\n          <button className=\"auth-btn\" type=\"submit\" disabled={loading}>\r\n            {loading ? \"Creating...\" : \"Sign Up\"}\r\n          </button>\r\n\r\n          <p className=\"auth-switch\">\r\n            Already have an account? <a href=\"/login\">Log In</a>\r\n          </p>\r\n        </form>\r\n      </div>\r\n\r\n      {/* FOOTER */}\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}